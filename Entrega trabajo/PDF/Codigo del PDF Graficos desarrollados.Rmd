---
title: "Análisis del rendimiento ofensivo y defensivo en la NBA mediante la conversión de puntos y asistencias por periodos cuatrienales en los últimos 28 años"
author: "Samuel Barreto y Leonardo Mentado"
date: "`r Sys.Date()`"
output: pdf_document
editor_options: 
  chunk_output_type: inline
---
  
``` {r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# Carga de librerías
library(tidyverse)
library(funModeling)
library(readxl)
library(knitr)
library(gridExtra)
library(corrplot)
library(RColorBrewer)
library(tseries)
library(kableExtra)
library(tinytex)
library(ggplot2)
library(dplyr)
library(tinytex)

# Lectura de base de datos
NBA <- read_excel("~/An-lisis-NBA-Grupo-10/NBA G1-G10.xlsx")

# Limpieza de nombres de columnas
names(NBA) <- make.names(names(NBA))

# Declaración de variables
NBA$PTS <- as.numeric(NBA$PTS)
NBA$FG. <- as.numeric(NBA$FG.)
NBA$X3P. <- as.numeric(NBA$X3P.)
NBA$FT. <- as.numeric(NBA$FT.)
NBA$AST. <- as.numeric(NBA$AST.)
NBA$DD2 <- as.numeric(NBA$DD2)
NBA$DD3 <- as.numeric(NBA$DD3)
NBA$PTS2PT. <- as.numeric(NBA$PTS2PT.)
NBA$PTS3PT. <- as.numeric(NBA$PTS3PT.)
NBA$PTSFT. <- as.numeric(NBA$PTSFT.)
NBA$Season <- as.character(NBA$Season)

# Datos de la Variable temporada
NBA <- NBA %>%
  mutate(Años_J = as.numeric(sub("-.*", "", Season)),
         intervalo = cut(Años_J, 
                         breaks = seq(1996, 2024, by = 4), 
                         labels = c("1996-2000", "2000-2004", "2004-2008", "2008-2012", "2012-2016", "2016-2020", "2020-2024"), 
                         include.lowest = TRUE))

# Creación de tablas para formación de gráficos
Promedio_PTS <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_PTS = sum(PTS, na.rm = TRUE))

Promedio_FG <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_FG = mean(FG., na.rm = TRUE))

Promedio_3P <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_3P = mean(X3P., na.rm = TRUE))

Promedio_FT <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_FT = mean(FT., na.rm = TRUE))

Promedio_AST <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_AST = mean(AST., na.rm = TRUE))

Promedio_DD2 <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_DD2 = sum(DD2, na.rm = TRUE))

Promedio_DD3 <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_DD3 = sum(DD3, na.rm = TRUE))

Promedio_PTS2PT <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_PTS2TP = mean(PTS2PT., na.rm = TRUE))

Promedio_PTS3PT <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_PTS3TP = mean(PTS3PT., na.rm = TRUE))

Promedio_PTSFT <- NBA %>%
  group_by(intervalo) %>%
  dplyr::summarize(total_PTSFT = mean(PTSFT., na.rm = TRUE))
```
# Introducción

El rendimiento de los jugadores de la NBA ha evolucionado significativamente en las últimas décadas debido a cambios en las reglas del juego, avances en la preparación física y nuevas estrategias de juego. Este estudio busca responder como ha sido efectivo estos cambios tanto en la ofensiva como en la defensiva al momento de convertir puntos por canasta y en la realización de asistencias, comparándolo por periodos cuatrienales de los últimos 28 años, entonces nos preguntamos:
  
  ¿Cómo ha variado el rendimiento de la conversión de puntos en los últimos 28 años y que periodo cuatrienal ha obtenido mayor desempeño en conversión de canastas?
  
  ## Justificación de la Investigación
  
  -   Es importante para el análisis de datos en el deporte para identificar tendencias y patrones.
-   Uso de técnicas estadísticas y visualización de datos para entender el rendimiento de conversión y asistencias.
-   Determinar para los analistas del campo, la eficiencia de los avances deportivos para la preparación de los jugadores de la NBA.
-   Identificar que tan efectivo han sido los cambios en la NBA a nivel de conversiones de canasta y asistencias en los últimos 28 años.

El análisis del rendimiento ofensivo y defensivo en la NBA es fundamental para entender la evolución del baloncesto moderno y cómo los jugadores y equipos han adaptado sus estrategias a lo largo del tiempo. Nos centraremos en el estudio de las métricas clave de rendimiento (puntos y asistencias) y su conversión en periodos cuatrienales (cada 4 años) durante las últimas 28 temporadas (desde 1996 hasta 2024).

## Análisis Univariante

```{r Grafico Multivariante 1, fig.align='center', echo=FALSE,out.width='52%'}
# Puntos por temporada
ggplot(NBA, aes(x = PTS)) +
  geom_histogram(binwidth = 50, fill = "darkblue", color = "black") +  # Ajusta el binwidth según tus datos
  labs(title = "Distribución de Puntos", 
       x = "Puntos (PTS)", 
       y = "Frecuencia") +
  theme_minimal() +
  theme(plot.title = element_text(size = 14, face = "bold", hjust = 0.5))
```
### Rendimiento general de las 28 temporadas de la NBA
* NUEVA DESCRIPCION PARA PROMEDIO DE PUNTOS.

```{r Grafico Multivariante 2, fig.align='center', echo=FALSE,out.width='70%'}
# Asistencias por Temporada
ggplot(NBA, aes(x = intervalo, y = AST., fill = intervalo)) +
  geom_boxplot(color = "darkblue") +
  labs(title = "Distribución de Asistencias por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Porcentaje de Asistencias") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold")) +
  scale_fill_brewer(palette = "Set3")
```
PONER NUEVA DESCRIPCIÓN PARA PORCENTAJE DE ASISTENCIA EN RELACION A LOS PUNTOS.

```{r Grafico Multivariante 3, fig.align='center', echo=FALSE,out.width='65%'}
# Total de tiros realizados encestados
ggplot(Promedio_FG, aes(x = intervalo, y = total_FG, fill = intervalo)) +
  geom_bar(stat = "identity", color = "darkblue") +
  labs(title = "Distribución de Porcentaje de Tiros de Campo por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Porcentaje de Tiros de Campo") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))
```
### Estudio gráfico sobre el total de FG%
PONER NUEVA DESCRIPCION PROMEDIO DE TIROS ANOTADOS CON LANZADDOS.


```{r Grafico Multivariante 4, echo=FALSE, fig.align='center', out.width='80%', fig.width=8, results='hide'}
# Dispersión promedio de puntos por triple
ggplot(Promedio_3P, aes(x = intervalo, y = total_3P, color = intervalo)) +
  geom_point(size = 3) +
  labs(title = "Distribución de Porcentaje de Triples por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Porcentaje de Triples") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))
```

### Equilibrio en el porcentaje de tiros anotados (periodos cuatrienales)
DESCRIPCION DE 3P%.

### Estudio gráfico sobre el total de FG%
PONER NUEVA DESCRIPCION PROMEDIO DE TIROS ANOTADOS CON LANZADDOS.

```{r Grafico Multivariante 5, echo=FALSE, fig.align='center', out.width='80%', fig.width=8, results='hide'}
# Dispersión promedio de puntos por tiro libre
ggplot(Promedio_FT, aes(x = intervalo, y = total_FT, color = intervalo)) +
  geom_point(size = 3) +
  labs(title = "Distribución de Porcentaje de Tiros Libres por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Porcentaje de Tiros Libres") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))
```
### Equilibrio en el porcentaje de tiros anotados (periodos cuatrienales)
DESCRIPCION DE 3P%

## Análisis Bivariante

```{r Graficos Bivariante 5 Y 6, fig.align='center', echo=FALSE,out.width='70%'}
# Total de DD3 por periodo
ggplot(Promedio_DD3, aes(x = intervalo, y = total_DD3, fill = intervalo)) +
  geom_bar(stat = "identity", color = "darkblue") +
  labs(title = "Distribución de Dobles-Triples por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Total de Dobles-Triples") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))

# Total de DD2 por periodo
ggplot(Promedio_DD2, aes(x = intervalo, y = total_DD2, fill = intervalo)) +
  geom_bar(stat = "identity", color = "darkblue") +
  labs(title = "Distribución de Dobles-Dobles por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Total de Dobles-Dobles") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))
```
## DD2 Y DD3

### DD2
NUEVA DESCRIPCION. 

### DD3
NUEVA DESCRIPCION.

```{r Grafico Bivariante 7 8 Y 9, echo=FALSE, fig.align='center', fig.width=8, out.width='80%'}
# Promedio de puntos por doble
ggplot(Promedio_PTS2PT, aes(x = intervalo, y = total_PTS2TP, color = intervalo)) +
  geom_point(size = 3) +
  labs(title = "Distribución de Puntos por Doble Puntos por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Puntos por Dobles") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))

# Puntos por triple
ggplot(Promedio_PTS3PT, aes(x = intervalo, y = total_PTS3TP, color = intervalo)) +
  geom_point(size = 3) +
  labs(title = "Distribución de Puntos por Triple Punto por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Puntos por Triples") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))

# Puntos por tiro libre
ggplot(Promedio_PTSFT, aes(x = intervalo, y = total_PTSFT, color = intervalo)) +
  geom_point(size = 3) +
  labs(title = "Distribución de Puntos por Tiros Libres por Intervalo de Temporada", x = "Intervalo de Temporada", y = "Puntos por Tiros Libres") +
  theme_minimal() +
  theme(plot.title = element_text(size = 10, face = "bold"))

```
### Estudio gráfico de la dispersión DE PUNTOS POR DOBLE POR TRIPLE Y POR TIRO LIBRE
NUEVA DESCRIPCION.


## Conclusiones
* En la NBA se han implementado una serie de nuevos reglamentos y técnicas de entrenamiento, con la finalidad de buscar una mejor afinidad al momento de realizar los juegos de Basquetbol, donde estos tipos de cambio han tenido impacto en los juegos del mismo, mejorando tanto los métodos defensivos como ofensivos de los jugadores, bien sea para obtener un mejor rendimiento o en algunos casos un peor rendimiento.
* Algunas épocas están enmarcadas por una serie de estrellas Basquetbolistas que por su talento y hazaña ha ayudado que sus periodos de tiempo aumentaran en buenas medidas sus registros y gráficas.